# æ·é‹è»Šç«™è¨­æ–½æŸ¥è©¢ - ä¿®å¾©å‰å¾Œå°æ¯”

## ä¿®å¾©å‰ (Markdown é€£çµåœ¨ Field)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸš‡ é ‚åŸ”ç«™è¨­æ–½è³‡è¨Š                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸš‰ è»Šç«™åç¨±                            â”‚
â”‚  é ‚åŸ”ç«™                                 â”‚
â”‚                                         â”‚
â”‚  ğŸ·ï¸ è»Šç«™ä»£ç¢¼                           â”‚
â”‚  BL01                                   â”‚
â”‚                                         â”‚
â”‚  ğŸ¯ è»Šç«™è¨­æ–½                            â”‚
â”‚  ç„¡è©³ç´°è¨­æ–½è³‡è¨Š                         â”‚
â”‚                                         â”‚
â”‚  ğŸ—ºï¸ è»Šç«™è¨­æ–½åœ–                         â”‚
â”‚  [é ‚åŸ”ç«™è³‡è¨Šåœ–](https://web.metro...)   â”‚  â† ç´”æ–‡å­—,ç„¡æ³•é»æ“Š âŒ
â”‚                                         â”‚
â”‚  ğŸ“ ä½ç½®                                â”‚
â”‚  [Google Maps](https://...)            â”‚  â† å¯ä»¥é»æ“Š âœ…
â”‚                                         â”‚
â”‚  è³‡æ–™ä¾†æº: TDXé‹è¼¸è³‡æ–™æµé€šæœå‹™          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å•é¡Œ**: 
- Field value ä¸­çš„ Markdown é€£çµä¸æœƒæ¸²æŸ“
- ä½¿ç”¨è€…çœ‹åˆ°ç´”æ–‡å­—,ç„¡æ³•é»æ“Šé–‹å•Ÿ PDF
- èˆ‡ Google Maps é€£çµçš„è¡Œç‚ºä¸ä¸€è‡´ (description å¯é»æ“Š)

---

## ä¿®å¾©å¾Œ (Button çµ„ä»¶)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸš‡ é ‚åŸ”ç«™è¨­æ–½è³‡è¨Š                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸš‰ è»Šç«™åç¨±                            â”‚
â”‚  é ‚åŸ”ç«™                                 â”‚
â”‚                                         â”‚
â”‚  ğŸ·ï¸ è»Šç«™ä»£ç¢¼                           â”‚
â”‚  BL01                                   â”‚
â”‚                                         â”‚
â”‚  ğŸ¯ è»Šç«™è¨­æ–½                            â”‚
â”‚  ç„¡è©³ç´°è¨­æ–½è³‡è¨Š                         â”‚
â”‚                                         â”‚
â”‚  ğŸ“ ä½ç½®                                â”‚
â”‚  [Google Maps](https://...)            â”‚
â”‚                                         â”‚
â”‚  è³‡æ–™ä¾†æº: TDXé‹è¼¸è³‡æ–™æµé€šæœå‹™          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸ—ºï¸ é ‚åŸ”ç«™è³‡è¨Šåœ–                 â”‚ â”‚  â† è—è‰²æŒ‰éˆ•,å¯é»æ“Š âœ…
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
```

**æ”¹å–„**: 
- æŒ‰éˆ•é¡¯ç¤ºåœ¨è¨Šæ¯ä¸‹æ–¹
- æ¸…æ¥šçš„è¦–è¦ºæç¤º (è—è‰²æŒ‰éˆ•)
- é»æ“Šå¾Œåœ¨æ–°åˆ†é é–‹å•Ÿ PDF
- ç¬¦åˆ Discord UI è¨­è¨ˆè¦ç¯„

---

## ç¨‹å¼ç¢¼å°æ¯”

### èˆŠç‰ˆ (æœ‰å•é¡Œ)
```python
# è¨­æ–½åœ°åœ– (PDF é€£çµ)
facility_maps = station_data.get('FacilityMapURLs', [])
if facility_maps and len(facility_maps) > 0:
    map_links = []
    for map_item in facility_maps[:3]:
        map_name = map_item.get('MapName', {}).get('Zh_tw', 'è»Šç«™è³‡è¨Šåœ–')
        map_url = map_item.get('MapURL', '')
        if map_url:
            map_links.append(f"[{map_name}]({map_url})")  # Markdown æ ¼å¼
    
    if map_links:
        embed.add_field(
            name="ğŸ—ºï¸ è»Šç«™è¨­æ–½åœ–",
            value="\n".join(map_links),  # âŒ Field value ä¸æ”¯æ´ Markdown é€£çµ
            inline=False
        )

await interaction.response.edit_message(embed=embed, view=None)
```

### æ–°ç‰ˆ (å·²ä¿®å¾©)
```python
# å»ºç«‹åŒ…å«è¨­æ–½åœ°åœ–æŒ‰éˆ•çš„ View
button_view = View(timeout=300)

# æ–°å¢è¨­æ–½åœ°åœ–æŒ‰éˆ•
facility_maps = station_data.get('FacilityMapURLs', [])
if facility_maps and len(facility_maps) > 0:
    for map_item in facility_maps[:5]:  # æœ€å¤š5å€‹æŒ‰éˆ•
        map_name = map_item.get('MapName', {}).get('Zh_tw', 'è»Šç«™è³‡è¨Šåœ–')
        map_url = map_item.get('MapURL', '')
        if map_url:
            button = Button(
                label=f"ğŸ—ºï¸ {map_name}",
                url=map_url,
                style=discord.ButtonStyle.link  # âœ… é€£çµæŒ‰éˆ•
            )
            button_view.add_item(button)

await interaction.response.edit_message(embed=embed, view=button_view)  # âœ… å‚³å…¥ button_view
```

---

## æ”¯æ´å¤šå€‹é€£çµ

å¦‚æœ API å›å‚³å¤šå€‹è¨­æ–½åœ–:

```python
facility_maps = [
    {'MapName': {'Zh_tw': 'é ‚åŸ”ç«™è³‡è¨Šåœ–'}, 'MapURL': 'https://...076.pdf'},
    {'MapName': {'Zh_tw': 'é ‚åŸ”ç«™è·¯ç·šåœ–'}, 'MapURL': 'https://...077.pdf'},
    {'MapName': {'Zh_tw': 'é ‚åŸ”ç«™å‘¨é‚Šåœ–'}, 'MapURL': 'https://...078.pdf'}
]
```

**é¡¯ç¤ºçµæœ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸš‡ é ‚åŸ”ç«™è¨­æ–½è³‡è¨Š                      â”‚
â”‚  (embed content...)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸ—ºï¸ é ‚åŸ”ç«™è³‡è¨Šåœ–                 â”‚ â”‚  â† æŒ‰éˆ• 1
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸ—ºï¸ é ‚åŸ”ç«™è·¯ç·šåœ–                 â”‚ â”‚  â† æŒ‰éˆ• 2
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸ—ºï¸ é ‚åŸ”ç«™å‘¨é‚Šåœ–                 â”‚ â”‚  â† æŒ‰éˆ• 3
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
```

æœ€å¤šå¯é¡¯ç¤º **5 å€‹æŒ‰éˆ•** (è¶…éæœƒè‡ªå‹•æˆªæ–·)

---

## å¯¦éš› API è³‡æ–™ç¯„ä¾‹

ä¾†è‡ª TDX API çš„çœŸå¯¦å›æ‡‰ (é ‚åŸ”ç«™):

```json
{
  "StationID": "BL01",
  "StationName": {"Zh_tw": "é ‚åŸ”"},
  "LineID": "BL",
  "FacilityMapURLs": [
    {
      "MapName": {"Zh_tw": "é ‚åŸ”ç«™è³‡è¨Šåœ–"},
      "MapURL": "https://web.metro.taipei/img/ALL/INFOPDF/076.pdf"
    }
  ],
  "Elevators": [],
  "Toilets": [],
  "Parkings": []
}
```

**èªªæ˜**:
- `Elevators`, `Toilets` ç­‰ç‚ºç©ºé™£åˆ— â†’ é¡¯ç¤ºã€Œç„¡è©³ç´°è¨­æ–½è³‡è¨Šã€
- `FacilityMapURLs` æœ‰è³‡æ–™ â†’ å»ºç«‹æŒ‰éˆ•é€£çµåˆ° PDF

---

## Discord é™åˆ¶åƒè€ƒ

### Button çµ„ä»¶é™åˆ¶
- æ¯å€‹ ActionRow æœ€å¤š 5 å€‹ button
- æ¯å€‹è¨Šæ¯æœ€å¤š 5 å€‹ ActionRow
- ç¸½è¨ˆ: 25 å€‹ button ä¸Šé™

### ç•¶å‰å¯¦ä½œ
- è¨­å®šç‚ºæœ€å¤š 5 å€‹æŒ‰éˆ•: `facility_maps[:5]`
- å–®ä¸€ ActionRow (è‡ªå‹•ç®¡ç†)
- è¶…æ™‚æ™‚é–“: 300 ç§’ (5 åˆ†é˜)

### Embed é™åˆ¶
- Title: 256 å­—å…ƒ
- Description: 4096 å­—å…ƒ
- Field name: 256 å­—å…ƒ
- Field value: 1024 å­—å…ƒ
- Footer text: 2048 å­—å…ƒ
- Total fields: 25 å€‹
- Total characters: 6000 å­—å…ƒ

---

## æ¸¬è©¦æ¡ˆä¾‹

### æ¡ˆä¾‹ 1: ç„¡è¨­æ–½åœ°åœ–
```json
{
  "FacilityMapURLs": []
}
```
**çµæœ**: ä¸é¡¯ç¤ºæŒ‰éˆ•,åªæœ‰ embed å…§å®¹

### æ¡ˆä¾‹ 2: å–®ä¸€è¨­æ–½åœ°åœ–
```json
{
  "FacilityMapURLs": [
    {"MapName": {"Zh_tw": "é ‚åŸ”ç«™è³‡è¨Šåœ–"}, "MapURL": "https://...076.pdf"}
  ]
}
```
**çµæœ**: é¡¯ç¤º 1 å€‹æŒ‰éˆ•

### æ¡ˆä¾‹ 3: å¤šå€‹è¨­æ–½åœ°åœ–
```json
{
  "FacilityMapURLs": [
    {"MapName": {"Zh_tw": "ç«™å…§åœ–"}, "MapURL": "https://...01.pdf"},
    {"MapName": {"Zh_tw": "å‡ºå£åœ–"}, "MapURL": "https://...02.pdf"},
    {"MapName": {"Zh_tw": "è·¯ç·šåœ–"}, "MapURL": "https://...03.pdf"},
    {"MapName": {"Zh_tw": "å‘¨é‚Šåœ–"}, "MapURL": "https://...04.pdf"},
    {"MapName": {"Zh_tw": "è½‰ä¹˜åœ–"}, "MapURL": "https://...05.pdf"},
    {"MapName": {"Zh_tw": "ç„¡éšœç¤™åœ–"}, "MapURL": "https://...06.pdf"}
  ]
}
```
**çµæœ**: é¡¯ç¤ºå‰ 5 å€‹æŒ‰éˆ• (ç¬¬ 6 å€‹è¢«æˆªæ–·)

---

## çµè«–

âœ… **ä¿®å¾©å®Œæˆ**: è¨­æ–½åœ°åœ–é€£çµç¾åœ¨å¯ä»¥æ­£å¸¸é»æ“Š
âœ… **ä½¿ç”¨è€…é«”é©—**: æ¸…æ¥šçš„è—è‰²æŒ‰éˆ•,ç¬¦åˆ Discord UI è¦ç¯„
âœ… **æŠ€è¡“æ­£ç¢º**: ä½¿ç”¨ discord.ui.Button çµ„ä»¶,è€Œéä¸æ”¯æ´çš„ Markdown
âœ… **å·²æ¸¬è©¦é©—è­‰**: èªæ³•æª¢æŸ¥ã€ç¨‹å¼ç¢¼é©—è­‰ã€Bot éƒ¨ç½²çš†é€šé
